<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    <link href="./css/search.css" rel="stylesheet">
    <title>민음사</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script defer type="text/javascript" src="js/common.js"></script>
</head>

<header></header>

<body>

    <main>
        <div class="resultPage">
            <img src="./img/search/logo.png" class="resultPage_logo">
            <form id="form">
                <div class="resultPage_search_bar">
                    <input type="text" id="result" 
                    placeholder="검색어를 입력해주세요." />
                    <img src="./img/search_btn_big.png" id="resultBtn">
                </div>
            </form>
        </div>
        <div class="search_Result">
            <b>''에 대한 검색 결과 입니다.</b>
            <div>
                <div>  
                    <img src="./img/bookshop/01_00.png">
                    <p>제목</p>
                </div>
            </div>
        </div>

    </main>

</body>

<footer></footer>

<script>

const SearchBtn = document.querySelector('.search_btn_header');
const Search = document.querySelector('.search');
const Close = document.querySelector('.close');
SearchBtn.addEventListener('click',function(){
    Search.classList.add('active');
});
Close.addEventListener('click',function(){
    Search.classList.remove('active');
});

    var SearchValue ;
    searchBtn.addEventListener('click', function(){
        SearchValue = search.value;
        dataAjax();
    });
    function abc(success, data){
        // console.log(success);        
        let str = '';
        let searchData = data.item.filter( (d)=>{
                str = d.author + d.title;
                if(str.match(SearchValue)) return d;
            }
        );
        console.log(searchData)
    }

    function dataAjax(){

        $.ajax({
                method: "get",
                dataType:"jsonp",
                jsonp:"abc",
                url: "http://www.aladin.co.kr/ttb/api/ItemSearch.aspx",
                data: { 
                    Query:"민음사",
                    QueryType:"Publisher",
                    TTBKey:"ttbgggdbstjs1055001",
                    output:"JS",
                    cover:"big",
                    callback:"abc",
                    Sort:"Accuracy",
                    MaxResults: "100"
                }
            })
    }
    


</script>

</body>
</html>